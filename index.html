<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE ATLAS // STEAM & DESTINY</title>

    <!-- LIBRARIES -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="selection:bg-amber-900 selection:text-white h-screen w-screen relative">

    <!-- OVERLAYS -->
    <div
        class="fixed inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-wood.png')] opacity-40 pointer-events-none z-0">
    </div>
    <!-- Steam Particles (Generated by JS) -->
    <div id="steam-layer" class="fixed inset-0 pointer-events-none z-10"></div>

    <!-- MAIN CONTAINER -->
    <main class="relative z-20 w-full h-full flex flex-col items-center justify-center">

        <!-- HEADER -->
        <header id="main-header" class="text-center mb-10 transition-all duration-700">
            <h1 class="font-cinzel text-5xl md:text-6xl text-[#c5a059] font-bold text-shadow-gold mb-2">THE ATLAS</h1>
            <div class="w-24 h-1 bg-[#8b7355] mx-auto mb-2"></div>
            <p class="text-[10px] uppercase tracking-[0.6em] text-[#8b7355]">Steam & Destiny Engine v6.0</p>
        </header>

        <!-- VIEW: ATLAS (MAP) -->
        <div id="view-atlas"
            class="absolute inset-0 flex flex-col items-center justify-center transition-all duration-700">
            <!-- Background Gears -->
            <div class="absolute top-1/4 left-10 opacity-10 text-[#c5a059] gear-cw pointer-events-none">
                <i data-lucide="settings" width="200" height="200"></i>
            </div>
            <div class="absolute bottom-1/4 right-10 opacity-10 text-[#8b7355] gear-ccw pointer-events-none">
                <i data-lucide="settings" width="150" height="150"></i>
            </div>

            <!-- Map Line -->
            <div class="absolute top-0 bottom-0 w-0.5 bg-[#4a3b2a] border-r border-[#c5a059] border-dashed opacity-30">
            </div>

            <!-- Manor Node -->
            <button onclick="App.navigate('manor')" class="btn-steam relative z-30 group">
                <div
                    class="w-32 h-32 rounded-full bg-[#2c241b] border-4 border-[#c5a059] flex items-center justify-center shadow-[0_0_40px_rgba(197,160,89,0.2)] group-hover:bg-[#1a1612] transition-colors">
                    <i data-lucide="home" class="text-[#f4e4bc] w-10 h-10"></i>
                </div>
                <div
                    class="absolute -bottom-8 left-1/2 -translate-x-1/2 bg-[#1a1612] px-3 py-1 border border-[#8b7355] text-[#c5a059] text-xs font-cinzel font-bold tracking-widest whitespace-nowrap">
                    THE MANOR
                </div>
            </button>

            <!-- Mission Node (Locked) -->
            <div class="relative z-30 mt-20">
                <button onclick="App.locked()"
                    class="w-24 h-24 rotate-45 border-4 border-[#4a3b2a] bg-[#1a1612] flex items-center justify-center hover:border-[#666] transition-colors">
                    <i data-lucide="scroll" class="text-[#4a3b2a] -rotate-45 w-8 h-8"></i>
                </button>
            </div>
        </div>

        <!-- VIEW: MANOR (CHAT) -->
        <div id="view-manor"
            class="absolute inset-0 flex items-center justify-center opacity-0 pointer-events-none scale-90 transition-all duration-700 p-4">
            <div
                class="max-w-xl w-full panel-brass p-1 relative bg-[url('https://www.transparenttextures.com/patterns/aged-paper.png')]">
                <!-- Inner Panel -->
                <div class="bg-[#f4e4bc]/90 p-6 md:p-8 h-full min-h-[500px] flex flex-col">

                    <!-- Manor Header -->
                    <div class="flex justify-between items-start mb-6 border-b-2 border-[#8b7355] pb-4">
                        <div>
                            <h2 class="font-cinzel text-2xl text-[#2c241b] font-bold uppercase tracking-widest">The
                                Study</h2>
                            <p class="text-xs text-[#5c4a3b] italic">Automaton Unit #04</p>
                        </div>
                        <button onclick="App.navigate('atlas')"
                            class="text-[#5c4a3b] hover:text-[#8b0000] transition-colors flex items-center gap-1 text-xs font-bold uppercase tracking-widest">
                            <i data-lucide="chevron-left" class="w-4 h-4"></i> Return
                        </button>
                    </div>

                    <!-- Chat Logs -->
                    <div id="chat-logs"
                        class="flex-1 bg-[#1a1612] border-2 border-[#4a3b2a] p-4 overflow-y-auto vintage-scroll mb-4 shadow-inner space-y-3">
                        <!-- Logs injected here -->
                    </div>

                    <!-- Input -->
                    <div class="flex gap-2">
                        <input type="text" id="chat-input" placeholder="Enter telegraph message..."
                            class="flex-1 bg-[#2c241b] text-[#f4e4bc] border-2 border-[#8b7355] p-3 font-serif placeholder:text-[#5c4a3b] focus:outline-none focus:border-[#c5a059] transition-colors"
                            onkeypress="if(event.key === 'Enter') App.sendMessage()">
                        <button onclick="App.sendMessage()"
                            class="bg-[#5c1a1a] text-[#f4e4bc] px-6 border-2 border-[#8b0000] hover:bg-[#8b0000] transition-colors">
                            <i data-lucide="send" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script src="app.js"></script>
</body>

</html>